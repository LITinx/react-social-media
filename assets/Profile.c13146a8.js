import{c as N,a as P,u as b,j as r,b as t,o as x,d as f,e as I,G as _,A as T,f as k,g as S,F as v,r as h,P as C,h as y,i as M,k as A,l as $,m as w}from"./index.710a4f18.js";import{w as F}from"./withAuthRedirect.40745085.js";import{l as j}from"./no-logo.a291e1ee.js";const z="post_BFY",U="post-title_ydB",W="postItems_8oN",B="button_s4r",D="text-area_HXg";var u={post:z,postTitle:U,postItems:W,button:B,textArea:D};const H=N().shape({postText:P().max(250)});function L({onBtnClick:e}){const{register:s,handleSubmit:o,reset:n}=b({resolver:x(H)});return r("form",{onSubmit:o(a=>{e(a.postText),n()}),className:u.postItems,children:[t("div",{className:u.textArea,children:t("textarea",{placeholder:"New Post...",...s("postText")})}),t("button",{className:u.button,type:"submit",children:"Post"})]})}const V=()=>({}),E={onBtnClick:I};var R=f(V,E)(L);function X(e){return _({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}const G="post-wrapper_bCR",J="info_xLX",Y="wrapper_e2j",O="icon_jY0",Z="logo_H1c",q="name_e6U",K="post_ZIN";var c={postWrapper:G,info:J,wrapper:Y,icon:O,logo:Z,name:q,post:K};const Q=({children:e,likes:s,name:o="Nurik",deletePost:n,id:i})=>{const a=()=>{n(i)};return r("div",{className:c.postWrapper,children:[r("div",{className:c.wrapper,children:[r("div",{className:c.info,children:[t("div",{className:c.logo,children:t("img",{src:"https://i.pinimg.com/564x/0f/93/79/0f93798d7dbd239809f07f7b00e9891e.jpg",alt:""})}),t("div",{className:c.name,children:o})]}),t("div",{className:c.icon,children:t(X,{size:18,onClick:a})})]}),r("div",{className:c.post,children:[t("p",{className:c.like,children:e}),r("span",{children:[s," ",t(T,{color:"#4b484b",size:12})]})]})]})};var tt=f(null,{deletePost:k})(Q);function et({posts:e}){return t("div",{children:e==null?void 0:e.map(({id:s,message:o,likesCount:n})=>t(tt,{likes:n,id:s,children:o},s))})}const ot=e=>({posts:e.profilePage.posts}),st=f(ot)(et);function nt(){return r("div",{className:u.post,children:[t("h2",{className:u.postTitle,children:"My Posts"}),t(R,{}),t(st,{})]})}const rt="profile_shb";var at={profile:rt};function it(e){function s(o){let n=S();return t(e,{...o,params:n})}return s}const ct="profile-logo_08B",lt="profile-info_I5z",pt="profile-name_WtF",dt="contacts_-HX",ut="status-text_-uG",ht="status-input_-XC",ft="profile_Tbm";var d={profileLogo:ct,profileInfo:lt,profileName:pt,contacts:dt,statusText:ut,statusInput:ht,profile:ft};const mt=({profile:e})=>{let s=[];for(let o in e.contacts)e.contacts[o]&&s.push(o);return r(v,{children:[t("div",{children:r("strong",{children:["About:"," ",t("span",{style:{fontWeight:"400"},children:e.aboutMe?e.aboutMe:"No bio"})]})}),t("div",{children:r("strong",{children:["Looking for a job:"," ",t("span",{style:{fontWeight:"400"},children:e.lookingForAJob?"Yes":"No"})]})}),t("div",{children:r("strong",{children:["Description for looking a job:"," ",t("span",{style:{fontWeight:"400"},children:e.lookingForAJobDescription?e.lookingForAJobDescription:"No desc"})]})}),r("div",{children:[t("h6",{style:{fontSize:"16px"},children:"Contacts:"}),t("ul",{children:s.length?s.map((o,n)=>t("li",{className:d.contacts,children:t("a",{target:"_blank",href:"//"+e.contacts[o],children:o})},n)):"No contacts"})]})]})},gt=({status:e,updateUserStatus:s})=>{const[o,n]=h.exports.useState(!1),[i,a]=h.exports.useState(e);h.exports.useEffect(()=>{a(e)},[e]);const l=()=>{n(!0)},m=()=>{n(!1),s(i)},p=g=>{a(g.target.value)};return t("div",{children:o?t("div",{className:d.statusInput,children:t("input",{autoFocus:!0,type:"text",onBlur:m,onChange:g=>p(g),value:i})}):t("div",{className:d.statusText,children:t("span",{onDoubleClick:l,children:e||"This place for your status"})})})},vt=({profile:e,status:s,updateUserStatus:o,profileId:n,userId:i})=>{var a,l;return e?t(v,{children:r("div",{className:d.profileInfo,children:[t("div",{className:d.profileLogo,children:t("img",{src:(a=e.photos)!=null&&a.small?(l=e.photos)==null?void 0:l.small:j,alt:"logo"})}),t("div",{className:d.profileName,children:t("h6",{children:e.fullName})}),n==i?t(gt,{status:s,updateUserStatus:o}):void 0,t(mt,{profile:e})]})}):t(C,{variant:"profile"})};function Nt({params:e,isAuth:s,userId:o,getUserProfile:n,profile:i,getUserStatus:a,status:l,updateUserStatus:m}){M();const p=e["*"]?e["*"]:o;return h.exports.useEffect(()=>{o&&(n(p),a(p))},[p,s]),t(vt,{profileId:o,userId:p,profile:i,status:l,updateUserStatus:m})}const Pt=e=>({profile:e.profilePage.profile,userId:e.auth.userId,status:e.profilePage.status}),bt={getUserProfile:A,getUserStatus:$,updateUserStatus:w};var xt=y(f(Pt,bt),it,F)(Nt);const kt=()=>r("main",{className:at.profile,children:[t(xt,{}),t(nt,{})]});export{kt as default};
