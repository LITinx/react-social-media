import{c as N,a as b,u as x,j as r,b as e,o as I,d as f,e as _,G as T,A as S,f as k,g as C,F as v,r as h,P as y,h as M,i as A,k as $,l as w,m as F}from"./index.d77761d2.js";import{l as P}from"./no-logo.a291e1ee.js";import{w as z}from"./withAuthRedirect.1ab67d3c.js";const U="post_BFY",W="post-title_ydB",j="postItems_8oN",B="button_s4r",D="text-area_HXg";var d={post:U,postTitle:W,postItems:j,button:B,textArea:D};const H=N().shape({postText:b().max(250)});function L({onBtnClick:t}){const{register:s,handleSubmit:o,reset:n}=x({resolver:I(H)});return r("form",{onSubmit:o(a=>{t(a.postText),n()}),className:d.postItems,children:[e("div",{className:d.textArea,children:e("textarea",{placeholder:"New Post...",...s("postText")})}),e("button",{className:d.button,type:"submit",children:"Post"})]})}const V=()=>({}),E={onBtnClick:_};var R=f(V,E)(L);function X(t){return T({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}}]})(t)}const G="post-wrapper_bCR",J="info_xLX",Y="wrapper_e2j",O="icon_jY0",Z="logo_H1c",q="name_e6U",K="post_ZIN";var c={postWrapper:G,info:J,wrapper:Y,icon:O,logo:Z,name:q,post:K};const Q=({children:t,likes:s,name:o="No name",deletePost:n,id:i,logo:a})=>{const l=()=>{n(i)};return r("div",{className:c.postWrapper,children:[r("div",{className:c.wrapper,children:[r("div",{className:c.info,children:[e("div",{className:c.logo,children:e("img",{src:a,alt:""})}),e("div",{className:c.name,children:o})]}),e("div",{className:c.icon,children:e(X,{size:18,onClick:l})})]}),r("div",{className:c.post,children:[e("p",{className:c.like,children:t}),r("span",{children:[s," ",e(S,{color:"#4b484b",size:12})]})]})]})};var tt=f(null,{deletePost:k})(Q);function et({posts:t,name:s,logo:o}){return e("div",{children:t==null?void 0:t.map(({id:n,message:i,likesCount:a})=>e(tt,{likes:a,id:n,name:s,logo:o,children:i},n))})}const ot=t=>{var s;return{posts:t.profilePage.posts,name:t.profilePage.profile.fullName,logo:(s=t.profilePage.profile.photos)!=null&&s.small?t.profilePage.profile.photos.small:P}},st=f(ot)(et);function nt(){return r("div",{className:d.post,children:[e("h2",{className:d.postTitle,children:"My Posts"}),e(R,{}),e(st,{})]})}const rt="profile_shb";var at={profile:rt};function it(t){function s(o){let n=C();return e(t,{...o,params:n})}return s}const lt="profile-logo_08B",ct="profile-info_I5z",pt="profile-name_WtF",ut="contacts_-HX",dt="status-text_-uG",ht="status-input_-XC",ft="profile_Tbm";var u={profileLogo:lt,profileInfo:ct,profileName:pt,contacts:ut,statusText:dt,statusInput:ht,profile:ft};const mt=({profile:t})=>{let s=[];for(let o in t.contacts)t.contacts[o]&&s.push(o);return r(v,{children:[e("div",{children:r("strong",{children:["About:"," ",e("span",{style:{fontWeight:"400"},children:t.aboutMe?t.aboutMe:"No bio"})]})}),e("div",{children:r("strong",{children:["Looking for a job:"," ",e("span",{style:{fontWeight:"400"},children:t.lookingForAJob?"Yes":"No"})]})}),e("div",{children:r("strong",{children:["Description for looking a job:"," ",e("span",{style:{fontWeight:"400"},children:t.lookingForAJobDescription?t.lookingForAJobDescription:"No desc"})]})}),r("div",{children:[e("h6",{style:{fontSize:"16px"},children:"Contacts:"}),e("ul",{children:s.length?s.map((o,n)=>e("li",{className:u.contacts,children:e("a",{target:"_blank",href:"//"+t.contacts[o],children:o})},n)):"No contacts"})]})]})},gt=({status:t,updateUserStatus:s})=>{const[o,n]=h.exports.useState(!1),[i,a]=h.exports.useState(t);h.exports.useEffect(()=>{a(t)},[t]);const l=()=>{n(!0)},m=()=>{n(!1),s(i)},p=g=>{a(g.target.value)};return e("div",{children:o?e("div",{className:u.statusInput,children:e("input",{autoFocus:!0,type:"text",onBlur:m,onChange:g=>p(g),value:i})}):e("div",{className:u.statusText,children:e("span",{onDoubleClick:l,children:t||"This place for your status"})})})},vt=({profile:t,status:s,updateUserStatus:o,profileId:n,userId:i})=>{var a,l;return t?e(v,{children:r("div",{className:u.profileInfo,children:[e("div",{className:u.profileLogo,children:e("img",{src:(a=t.photos)!=null&&a.small?(l=t.photos)==null?void 0:l.small:P,alt:"logo"})}),e("div",{className:u.profileName,children:e("h6",{children:t.fullName})}),n==i?e(gt,{status:s,updateUserStatus:o}):void 0,e(mt,{profile:t})]})}):e(y,{variant:"profile"})};function Pt({params:t,isAuth:s,userId:o,getUserProfile:n,profile:i,getUserStatus:a,status:l,updateUserStatus:m}){A();const p=t["*"]?t["*"]:o;return h.exports.useEffect(()=>{o&&(n(p),a(p))},[p,s]),e(vt,{profileId:o,userId:p,profile:i,status:l,updateUserStatus:m})}const Nt=t=>({profile:t.profilePage.profile,userId:t.auth.userId,status:t.profilePage.status}),bt={getUserProfile:$,getUserStatus:w,updateUserStatus:F};var xt=M(f(Nt,bt),it,z)(Pt);const St=()=>r("main",{className:at.profile,children:[e(xt,{}),e(nt,{})]});export{St as default};
